# java-filmorate
Template repository for Filmorate project.


## **ER-диаграмма**

Данная диаграмма отражает связи таблиц, которые используются для хранения данных приложения `Filmorate`.
![ER диаграмма промежуточное ТЗ11](https://user-images.githubusercontent.com/114754182/228310103-4708e6ad-20d0-4231-aaf5-4d192e38ebeb.png)

## **Примеры SQL-запросов**

Получение топ 10 фильмов:

```
SELECT *
FROM films AS f
WHERE f.film_id IN (SELECT fl.film_id,
                           COUNT(fl.user_id) AS likes_count
                  FROM films_likes AS fl
                  GROUP BY fl.film_id
                  ORDER BY likes_count DESC
                  LIMIT 10);
```                  

## **Описание таблиц**

#### `users`
Содержит данные о пользователях.
- Первичный ключ `id` - идентификатор пользователя;
- `email` - электронная почта пользователя;
- `login` - логин пользователя;
- `name` - имя пользователя;
- `birthday` - дата рождения пользователя.

#### `friends`
Содержит данные о дружбе пользователей.
- `user_id` - идентификатор пользователя отправившего запрос на дружбу;
- `friends_id` - идентификатор пользователя получившего запрос на дружбу;
- `status` - статус дружбы (принял ли второй прользователь запрос на дружбу).

#### `films_likes`
Содержит данные о понравившихся фильмах.
- `user_id` - идентификатор пользователя, поставившего лайл;
- `film_id` - идентификатор фильма.

#### `films`
Содержит данные о фильмах.
- Первичный ключ `id` - идентификатор фильма;
- `name` - название фильма;
- `description` - описание фильма;
- `release_date` - дата выхода фильма;
- `duration` - продолжительность фильма в минутах;
- `mpa_id` - идентификатор возрастного рейтинга фильма.

#### `film_genre`
Содержит данные о жанрах фильмов.
- `film_id` - идентификатор фильма;
- `genre_id` - идентификатор жанра.

#### `genre`
Содержит названия жанров фильмов.
- `genre_id` - идентификатор жанра;
- `genre_name` - название жанра.

#### `mpa`
Содержит возрастной рейтинг фильмов.
- `mpa_id` - идентификатор рейтиинга;
- `mpa_name` - название рейтинга.
